<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>CreatorBook</title>

  <!-- Theme + tiny favicon (no 404 noise) -->
  <meta name="theme-color" content="#06060a" />
  <link rel="icon" href="data:," />

  <!-- IMPORTANT: reduce ‚Äúfinicky‚Äù cache behavior across browsers -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <!-- Preconnect helps Supabase/auth feel snappier -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">

  <!-- Versioned assets: bump ?v= when you deploy changes -->
  <link rel="stylesheet" href="assets/style.css?v=8" />

  <!-- Base path single source of truth (prevents /creatorbook/creatorbook drift) -->
  <script>
    // GitHub Pages base for this repo
    // Auto-detect GitHub Pages base. Works for /creatorbook/, /creatorbook-main/, or custom domains.
    (function(){
      const p = location.pathname || "/";
      // If deployed as /REPO/..., base is "/REPO/". If custom domain, base is "/".
      const parts = p.split("/").filter(Boolean);
      window.CREATORBOOK_BASE = (parts.length ? ("/" + parts[0] + "/") : "/");
    })();
    // Optional: helpful for debug in console
    window.CREATORBOOK_BUILD = "index-v10";
  </script>

  <!-- Load scripts deferred so UI renders reliably before JS runs -->
  <script defer src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script defer src="config.js?v=8"></script>
  <script defer src="assets/app.js?v=8"></script>
</head>

<body>
  <noscript style="color:#fff; padding:16px; display:block; max-width:900px; margin:20px auto;">
    CreatorBook needs JavaScript enabled to sign in and create accounts.
  </noscript>

  <div class="bg"></div>

  <header class="topbar">
    <a class="brand" href="#home" data-nav="home" aria-label="CreatorBook Home">
      <span class="dot"></span>
      <span class="name">CREATORBOOK</span>
    </a>

    <nav class="nav">
      <a href="#home" data-nav="home" id="navHome">Home</a>
      <a href="#book" data-nav="book" id="navBook">Book</a>
      <a href="#create" data-nav="create" id="navCreate">Create</a>
      <a href="#projects" data-nav="projects" id="navProjects">My Projects</a>
    </nav>

    <div class="right">
      <div class="pill authed" id="creditsPill" style="cursor:pointer;" title="Credits">
        <span id="creditsBalTop">0</span>
        <span class="sep">¬∑</span>
        <span>credits</span>
        <span class="sep">¬∑</span>
        <button class="miniLink" id="btnBuyCredits" type="button" title="Buy credits">Buy credits</button>
      </div>

      <div class="menuWrap authed" id="profileMenuWrap">
        <button class="btn ghost" id="btnProfile"><span id="whoName">Menu</span> ‚ñæ</button>
        <div class="menu" id="profileMenu" style="display:none;">
          <a href="#post" id="menuHome">Home</a>
          <a href="#projects" id="menuProjects">My Projects</a>
          <a href="#profile" id="menuProfile">Profile</a>
          <button class="menuBtn" id="menuSignOut">Sign out</button>
        </div>
      </div>

      <button class="btn ghost" id="btnSignIn">Sign in</button>
    </div>
  </header>

  <main class="wrap">

    <!-- PUBLIC HOME (no login required) -->
    <section class="page show" id="pagePost">
      <h1 class="heroTitle">Book LA creatives with tiers, credits, and a clean workflow.</h1>
      <p class="heroSub">Explore first. Sign in when you‚Äôre ready to book, sell, or collaborate.</p>

      <div class="heroCtas" id="homePublicCtas">
        <button class="btn" id="homeCtaBook" type="button">Book</button>
        <button class="btn ghost" id="homeCtaCreatePkg" type="button">Create Package</button>
      </div>

      <div class="card" id="homeBookCard" style="margin-top:14px;">
        <div class="row" style="justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap;">
          <div>
            <div class="cardTitle" style="margin:0;">Book something fast</div>
            <div class="muted">Pick a category, set your budget, and get instant matches.</div>
          </div>
          <button class="btn" id="homeBookNow" type="button">Book</button>
        </div>
      </div>

<div class="row" style="justify-content:center; gap:10px; margin:16px 0 8px;">
        <div class="pill">Community</div>
      </div>
<div id="homePostsWrap">
        <div class="card">
          <div class="row" style="justify-content:space-between; align-items:center; flex-wrap:wrap; gap:10px;">
            <div class="cardTitle" style="margin:0;">Community</div>
            <div class="row" style="gap:8px; align-items:center;">
              <button class="pill" id="feedModeAll" class="pill big" type="button">All</button>
              <button class="pill" id="feedModeFollowing" class="pill big" type="button">Following</button>
            </div>
            <select id="postsSort" style="max-width:180px;">
              <option value="recent">Recent</option>
              <option value="popular">Popular (all time)</option>
            </select>
          </div>
          <div class="muted">Finished work only. Posts unlock after a project is completed (one post per project).</div>
          <div id="publicPosts" class="feed" style="margin-top:10px;"></div>
          <div class="muted" id="publicPostsEmpty" style="display:none;">No posts yet.</div>
        </div>
      </div>

      

    </section>
<!-- ARTIST DASHBOARD -->
    <section class="page authed" id="pageArtist" style="display:none;">
      <div class="pageHead">
        <div>
          <h2>Artist Dashboard</h2>
          <div class="muted">Create a project, pick a creator, request a shoot date, and track progress.</div>
        </div>
        <button class="btn" id="btnCreateProject">Create Project</button>
      </div>

      <div class="card">
        <div class="cardTitle">Your Wallet</div>
        <div class="row">
          <div class="pill big"><span id="walletBal">0</span> credits</div>
          <button class="btn ghost" id="btnBuyCredits">Buy credits (later)</button>
        </div>
        <div class="row">
          <input id="demoCredits" type="number" min="0" step="100" placeholder="Demo top-up (testing)" />
          <button class="btn" id="btnDemoCredits">Add</button>
        </div>
        <div class="muted">Stripe comes later. Demo credits are for testing right now.</div>
      </div>

      <div class="card">
        <div class="cardTitle">My Projects</div>
        <div id="artistProjects"></div>
      </div>
    </section>

    <!-- CREATOR DASHBOARD -->
    <section class="page authed" id="pageCreator" style="display:none;">
      <div class="pageHead">
        <div>
          <h2>Creator Dashboard</h2>
          <div class="muted" id="creatorApprovalNote"></div>
        </div>
      </div>

      <div class="grid2">
        <div class="card">
          <div class="cardTitle">Your Packages</div>
          <div class="muted">You can offer up to 4 price options (different budgets).</div>
          <div id="creatorPackages"></div>
        </div>

        <div class="card">
          <div class="cardTitle">Create / Update a Package</div>
          <div class="row">
            <select id="pkgCategory">
            <option value="Music & Audio">Music & Audio</option>
            <option value="Video & Photo">Video & Photo</option>
            <option value="Design & Visual Art">Design & Visual Art</option>
            <option value="Writing & Creative">Writing & Creative</option>
            <option value="Performance & Talent">Performance & Talent</option>
            <option value="Events & Experiences">Events & Experiences</option>
            <option value="Editing & Post">Editing & Post</option>
            <option value="Custom Request">Custom Request</option>
          </select>
          <select id="pkgService">
            <option value="">Select a service‚Ä¶</option>
          </select>
            <select id="pkgTier">
              <option value="bronze">Option 1</option>
              <option value="silver">Option 2</option>
              <option value="gold">Option 3</option>
              <option value="elite">Option 4</option>
            </select>
          </div>
          <input id="pkgTitle" placeholder="Package title (ex: Bronze Music Video)" />
          <div class="row">
            <input id="pkgPrice" type="number" min="0" step="50" placeholder="Credits price" />
            <input id="pkgDelivery" type="number" min="1" step="1" placeholder="Delivery days" />
          </div>
          <div class="row">
            <input id="pkgHours" placeholder="Hours (ex: 4 hours)" />
            <input id="pkgLocations" placeholder="Locations (ex: 1‚Äì2)" />
          </div>
          <div class="row">
            <input id="pkgRevisions" placeholder="Revisions (ex: 1 revision)" />
          </div>
          <textarea id="pkgIncludes" placeholder="Includes (ex: Shooting + basic edit + color)"></textarea>
          <textarea id="pkgAddons" placeholder="Add-ons (ex: BTS video, 5 reels, extra locations)"></textarea>
          <div class="row">
            <button class="btn" id="btnSavePkg">Save Package</button>
          </div>
          <div class="muted">Creators can build packages anytime. You won‚Äôt appear publicly until approved.</div>
        </div>
      </div>

      <div class="card">
        <div class="cardTitle">Incoming Projects</div>
        <div id="creatorProjects"></div>
      </div>
    </section>

    <!-- PROFILE -->
    <section class="page authed" id="pageProfile" style="display:none;">
      <div class="pageHead">
        <div>
          <h2>Profile</h2>
          <div class="muted">Projects, your feed, and your settings in one spot.</div>
        </div>
        <div class="pill big" title="Credits"><span id="profileCredits">0</span> credits</div>
      </div>

      <div class="profileHero">
        <div class="avatar" id="profileAvatar">U</div>
        <div>
          <div class="profileName" id="profileName">User</div>
          <div class="profileMeta"><span id="profileRole">client</span> ¬∑ <span id="profileCity">Los Angeles</span></div>
          <div class="row" id="profileFollowBar" style="gap:10px; margin-top:10px; flex-wrap:wrap;">
            <button class="pill big" id="profileFollowersBtn" type="button"><span id="profileFollowersCount">0</span> Followers</button>
            <button class="pill big" id="profileFollowingBtn" type="button"><span id="profileFollowingCount">0</span> Following</button>
          </div>
          <div class="muted tiny" style="margin-top:6px;">Tip: tap your avatar to change profile photo.</div>
        </div>
      </div>

      <div class="tabs" role="tablist" aria-label="Profile tabs">
        <button class="tabBtn active" id="tabProjects" type="button">My Projects</button>
        <button class="tabBtn" id="tabFeed" type="button">Posts</button>
        <button class="tabBtn" id="tabSettings" type="button">Settings</button>
      </div>

      <div class="tabPanel" id="panelProjects">
        <div class="card">
          <div class="cardTitle">My Projects</div>
          <div class="muted">All your bookings, with status + checklist.</div>
          <div id="profileProjects"></div>
        </div>
      </div>

      <div class="tabPanel" id="panelFeed" style="display:none;">
        <div class="grid2">
          <div class="card">
            <div class="cardTitle">Posting</div>
            <div class="muted">Posts are created from <b>completed projects</b>. Open a completed project in <b>My Projects</b> and tap <b>Post Result</b>. (One post per project.)</div>
          </div>
          <div class="card">
            <div class="cardTitle">Your Posts</div>
            <div id="myFeed" class="feed"></div>
            <div class="muted" id="myFeedEmpty" style="display:none;">No posts yet.</div>
          </div>
        </div>
      </div>

      <div class="tabPanel" id="panelSettings" style="display:none;">
        <div class="card">
          <div class="cardTitle">Settings</div>
          <div class="formGrid">
            <div class="formRow">
              <label class="lbl">Display name</label>
              <input id="setName2" />
            <input id="setUsername" placeholder="Username (e.g., clawboi)" />
</div>

            
            <div class="formRow">
              <label class="lbl">Profile photo</label>
              <input id="avatarFile" type="file" accept="image/*" />
              <div id="avatarPreview" class="muted tiny" style="margin-top:6px;"></div>
              <div class="muted tiny" style="margin-top:6px;">Or paste a URL:</div>
              <input id="setAvatar2" placeholder="https://.../your-photo.jpg" />
            </div>

            <div class="formRow">
              <label class="lbl">Your labels (2 max)</label>
              <input id="setRole1" placeholder="Primary label (e.g., Music Video Director)" />
              <input id="setRole2" placeholder="Secondary label (optional)" style="margin-top:8px;" />
            </div>

            <div class="formRow">
              <label class="lbl">Social</label>
              <div class="row" style="gap:10px; flex-wrap:wrap;">
                <button class="btn ghost" id="btnFollowers" type="button">Followers</button>
                <button class="btn ghost" id="btnFollowing" type="button">Following</button>
              </div>
              <div class="muted tiny" style="margin-top:6px;">(Followers/Following needs a small SQL table. UI is ready.)</div>
            </div>


            <div class="formRow">
              <label class="lbl">City</label>
              <input id="setCity2" />
            </div>

            <div class="formRow">
              <label class="lbl">Role</label>
              <select id="setRole2">
                <option value="client">Artist (Client)</option>
                <option value="creator">Creator</option>
              </select>
            </div>

            <div class="formRow">
              <label class="lbl">Bio</label>
              <textarea id="setBio2"></textarea>
            </div>

            <div class="formRow">
              <label class="lbl">Highlight / Portfolio link</label>
              <input id="setPortfolio2" />
            </div>

            <div class="formRow">
              <label class="lbl">Resume link</label>
              <input id="setResume2" />
            </div>

            <div class="row" style="justify-content:flex-end;">
              <button class="btn" id="btnSaveSettings2">Save</button>
            </div>
          </div>
<div class="muted">Creators must be approved to appear publicly. Artists can book anytime.</div>
        </div>
      </div>
    </section>

    <!-- CREATE PACKAGE -->
    
    <!-- BOOK (discover + recommendations) -->
    <section class="page" id="pageBook" style="display:none;">
      <h1 class="heroTitle">What do you need?</h1>
      <p class="heroSub">Pick a category, choose a service, set your budget, and we‚Äôll recommend the best matches.</p>

      <!-- Screen 1: Categories -->
      <div id="bookScreen1">
        <div class="gridCats" id="bookCatGrid">
          <button class="catBtn" data-cat="Music & Audio" type="button">üéß Music & Audio</button>
          <button class="catBtn" data-cat="Video & Photo" type="button">üé¨ Video & Photo</button>
          <button class="catBtn" data-cat="Design & Visual Art" type="button">üé® Design & Visual Art</button>
          <button class="catBtn" data-cat="Writing & Creative" type="button">‚úçÔ∏è Writing & Creative</button>
          <button class="catBtn" data-cat="Performance & Talent" type="button">üé≠ Performance & Talent</button>
          <button class="catBtn" data-cat="Events & Experiences" type="button">üéâ Events & Experiences</button>
          <button class="catBtn" data-cat="Editing & Post" type="button">‚úÇÔ∏è Editing & Post</button>
          <button class="catBtn" data-cat="Custom Request" type="button">‚ú® Custom Request</button>
        </div>
      </div>

      <!-- Screen 2: Services + Budget + Results -->
      <div id="bookScreen2" style="display:none;">
        <div class="row" style="justify-content:space-between; align-items:center; margin-top:8px;">
          <div>
            <div class="pill" id="bookBreadcrumb">Category</div>
            <div class="muted tiny" id="bookHint">Choose a service below.</div>
          </div>
          <button class="btn ghost" id="bookBack" type="button">Back</button>
        </div>

        <div class="card" style="margin-top:12px;">
          <div class="row" style="justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap;">
            <div style="min-width:240px; flex:1;">
              <div class="muted">Budget (credits)</div>
              <div class="row" style="gap:10px; margin-top:8px; align-items:center;">
                <input id="bookBudgetInput" class="input" type="number" min="0" step="25" value="500" style="max-width:140px;" />
                <div class="pill" id="bookBudgetLabel">500 credits</div>
              </div>
              <input id="bookBudget" class="input" type="range" min="0" max="5000" step="25" value="500" style="margin-top:10px; width:100%;">
            </div>

            <div style="min-width:220px;">
              <div class="muted">Sort</div>
              <select id="bookSort" class="input" style="margin-top:8px;">
                <option value="best">Best match</option>
                <option value="new">Newest</option>
                <option value="low">Lowest credits</option>
                <option value="high">Highest credits</option>
              </select>
              <button class="btn" id="btnRecommend" type="button" style="margin-top:10px; width:100%;">Recommend</button>
            </div>
          </div>
        </div>

        <div class="card" style="margin-top:12px;">
          <div class="cardTitle" style="margin:0;">Services</div>
          <div class="svcGrid" id="bookSvcGrid" style="margin-top:10px;"></div>

          <div id="bookCustomWrap" style="display:none; margin-top:10px;">
            <textarea id="bookCustomText" placeholder="Describe what you need‚Ä¶" style="min-height:100px;"></textarea>
            <div class="muted tiny" style="margin-top:6px;">Tip: include location, vibe, deadlines, and references.</div>
            <div class="row" style="justify-content:flex-end; margin-top:10px;">
              <button class="btn" id="bookCustomGo" type="button">Find matches</button>
            </div>
          </div>
        </div>

        <div class="row" style="justify-content:space-between; align-items:center; margin-top:14px;">
          <div class="muted" id="bookResultMeta">Pick a service to see matches</div>
        </div>

        <div id="bookFeedEmpty" class="empty" style="display:none; margin-top:14px;">
          <div class="card">
            <div class="cardTitle">No matches yet</div>
            <div class="muted">Try a higher budget, a different service, or create the first package.</div>
          </div>
        </div>

        <div id="bookFeed" style="margin-top:14px;"></div>
      </div>
</section>

<section class="page authed" id="pageCreatePackage" style="display:none;">
      <div class="pageHead">
        <div>
          <h2>Create Package</h2>
          <div class="muted">List a service with up to 4 price options. You can sell and book on the same account.</div>
        </div>
      </div>

      <div class="card">
        <div class="row">
          <select id="pkgCategory">
            <option value="Music & Audio">Music & Audio</option>
            <option value="Video & Photo">Video & Photo</option>
            <option value="Design & Visual Art">Design & Visual Art</option>
            <option value="Writing & Creative">Writing & Creative</option>
            <option value="Performance & Talent">Performance & Talent</option>
            <option value="Events & Experiences">Events & Experiences</option>
            <option value="Editing & Post">Editing & Post</option>
            <option value="Custom Request">Custom Request</option>
          </select>
          <select id="pkgService">
            <option value="music_video">Music Video</option>
            <option value="photography">Photography</option>
            <option value="reels">Reels / Shorts</option>
            <option value="editing">Editing</option>
            <option value="fashion">Fashion (Rent)</option>
            <option value="producer">Producer</option>
            <option value="other">Other</option>
          </select>
          <input id="pkgTitle" placeholder="Package title (e.g., 'Moody Night Photoshoot')" />
          <button class="btn" id="btnLoadMyPkgs" type="button">Load my packages</button>
        </div>

        <div class="muted" style="margin-top:8px;">
          Tip: Add 1‚Äì4 price options. Higher options can include more time, deliverables, or extras.
        </div>
      </div>

      <div class="grid2" style="margin-top:12px;">
        <div class="card tierCard" data-tier="bronze">
          <div class="row" style="justify-content:space-between; align-items:center;">
            <div class="cardTitle" style="margin:0;">Option 1</div>
            <label class="row" style="gap:8px; margin:0;">
              <input type="checkbox" id="tierOn_bronze" checked />
              <span class="muted">Active</span>
            </label>
          </div>
          <div class="row" style="margin-top:10px;">
            <input id="tierPrice_bronze" type="number" min="0" placeholder="Price (credits)" />
            <input id="tierDays_bronze" type="number" min="0" placeholder="Delivery days" />
          </div>
          <textarea id="tierIncludes_bronze" placeholder="What‚Äôs included (1‚Äì3 lines)."></textarea>
          <textarea id="tierAddons_bronze" placeholder="Add-ons (optional)."></textarea>
        </div>

        <div class="card tierCard" data-tier="silver">
          <div class="row" style="justify-content:space-between; align-items:center;">
            <div class="cardTitle" style="margin:0;">Option 2</div>
            <label class="row" style="gap:8px; margin:0;">
              <input type="checkbox" id="tierOn_silver" checked />
              <span class="muted">Active</span>
            </label>
          </div>
          <div class="row" style="margin-top:10px;">
            <input id="tierPrice_silver" type="number" min="0" placeholder="Price (credits)" />
            <input id="tierDays_silver" type="number" min="0" placeholder="Delivery days" />
          </div>
          <textarea id="tierIncludes_silver" placeholder="What‚Äôs included (1‚Äì3 lines)."></textarea>
          <textarea id="tierAddons_silver" placeholder="Add-ons (optional)."></textarea>
        </div>

        <div class="card tierCard" data-tier="gold">
          <div class="row" style="justify-content:space-between; align-items:center;">
            <div class="cardTitle" style="margin:0;">Option 3</div>
            <label class="row" style="gap:8px; margin:0;">
              <input type="checkbox" id="tierOn_gold" checked />
              <span class="muted">Active</span>
            </label>
          </div>
          <div class="row" style="margin-top:10px;">
            <input id="tierPrice_gold" type="number" min="0" placeholder="Price (credits)" />
            <input id="tierDays_gold" type="number" min="0" placeholder="Delivery days" />
          </div>
          <textarea id="tierIncludes_gold" placeholder="What‚Äôs included (1‚Äì3 lines)."></textarea>
          <textarea id="tierAddons_gold" placeholder="Add-ons (optional)."></textarea>
        </div>

        <div class="card tierCard" data-tier="elite">
          <div class="row" style="justify-content:space-between; align-items:center;">
            <div class="cardTitle" style="margin:0;">Option 4</div>
            <label class="row" style="gap:8px; margin:0;">
              <input type="checkbox" id="tierOn_elite" />
              <span class="muted">Active</span>
            </label>
          </div>
          <div class="row" style="margin-top:10px;">
            <input id="tierPrice_elite" type="number" min="0" placeholder="Price (credits)" />
            <input id="tierDays_elite" type="number" min="0" placeholder="Delivery days" />
          </div>
          <textarea id="tierIncludes_elite" placeholder="What‚Äôs included (1‚Äì3 lines)."></textarea>
          <textarea id="tierAddons_elite" placeholder="Add-ons (optional)."></textarea>
        </div>
      </div>

      <div class="row" style="margin-top:12px; justify-content:flex-end;">
        <button class="btn ghost" id="btnClearPkgForm" type="button">Clear</button>
        <button class="btn" id="btnSavePkg" type="button">Save tiers</button>
      </div>

      <div class="card" style="margin-top:14px;">
        <div class="row" style="justify-content:space-between; align-items:center;">
          <div class="cardTitle" style="margin:0;">My Packages</div>
          <button class="btn ghost" id="btnRefreshMyPkgs" type="button">Refresh</button>
        </div>
        <div class="muted">Tap a row to load it into the editor.</div>
        <div id="myPackagesList" class="feed" style="margin-top:10px;"></div>
        <div class="muted" id="myPackagesEmpty" style="display:none;">No packages yet.</div>
      </div>
    </section>
<!-- MY PROJECTS -->
    <section class="page authed" id="pageProjects" style="display:none;">
      <h2>My Projects</h2>
      <div class="muted">Track every project from request to final delivery.</div>
      <div id="projectsAll"></div>
    </section>

    <!-- SETTINGS -->
    <section class="page authed" id="pageSettings" style="display:none;">
      <h2>Settings</h2>
      <div class="card">
        <div class="row">
          <label class="lbl">Display name</label>
          <input id="setName" />
        </div>
        <div class="row">
          <label class="lbl">City</label>
          <input id="setCity" />
        </div>
        <div class="row">
          <label class="lbl">Role</label>
          <select id="setRole">
            <option value="client">Artist (Client)</option>
            <option value="creator">Creator</option>
          </select>
        </div>
        <div class="row">
          <label class="lbl">Bio</label>
          <textarea id="setBio"></textarea>
        </div>
        <div class="row">
          <label class="lbl">Portfolio link</label>
          <input id="setPortfolio" />
        </div>
        <div class="row">
          <label class="lbl">Resume link</label>
          <input id="setResume" />
        </div>
        <div class="row">
          <button class="btn" id="btnSaveSettings">Save</button>
        </div>
        <div class="muted">Creators must be approved to appear publicly. Artists can book anytime.</div>
      </div>
    </section>

  </main>

  <!-- AUTH MODAL -->
  <div class="modal" id="authModal" style="display:none;">
    <div class="modalCard">
      <div class="modalHead">
        <div class="modalTitle">Welcome</div>
        <button class="x" id="authClose" aria-label="Close">‚úï</button>
      </div>

      <div class="authMode" role="tablist" aria-label="Authentication mode">
        <button class="chip active" id="authModeLogin" type="button" role="tab" aria-selected="true">Sign in</button>
        <button class="chip" id="authModeSignup" type="button" role="tab" aria-selected="false">Create account</button>
      </div>

      <div class="muted tiny" id="authModeHelp">New here? Create an account. Already a member? Sign in.</div>

      <div class="authStack">
        <button class="btn google" id="authGoogle">
          <span class="gDot" aria-hidden="true"></span>
          Continue with Google
        </button>

        <div class="divider"><span>or</span></div>

        <label class="lbl">Email</label>
        <input id="authEmail" placeholder="Email (username sign-in coming)" autocomplete="email" />

        <label class="lbl">Password</label>
        <input id="authPass" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password" />

        <div id="authPass2Wrap" style="display:none;">
          <label class="lbl">Confirm password</label>
          <input id="authPass2" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="new-password" />
        </div>

        <div id="authPhoneWrap" style="display:none;">
          <label class="lbl">Phone (optional)</label>
          <input id="authPhone" placeholder="(323) 555-5555" autocomplete="tel" />
        </div>

        <div id="authRoleWrap" style="display:none; margin-top:10px;">
          <label class="lbl">I am signing up as</label>
          <select id="authRole" class="select">
            <option value="client">Artist (booking)</option>
            <option value="creator">Creator (service provider)</option>
          </select>
          <div class="muted tiny" style="margin-top:6px;">You can switch later in Profile settings.</div>
        </div>

        <div class="authRow">
          <button class="btn" id="authLogin" type="button">Sign in</button>
          <button class="btn ghost" id="authSignup" type="button">Create account</button>
        </div>

        <div class="authRow" style="margin-top:10px; justify-content:space-between;">
          <button class="btn ghost small" id="authForgot" type="button">Forgot password?</button>
          <button class="btn" id="authSetNewPass" type="button" style="display:none;">Set new password</button>
        </div>

        <button class="btn ghost small" id="authMagic" type="button">Magic link</button>

        <div class="muted tiny" style="display:flex; justify-content:space-between; gap:10px; align-items:center;">
          <button class="miniLink" id="authGoSignup" type="button">Don‚Äôt have an account? Create one</button>
          <button class="miniLink" id="authGoLogin" type="button" style="display:none;">Already have an account? Sign in</button>
        </div>

        <div class="muted tiny" id="authHint">
          Tip: If email confirmation is on, we‚Äôll prompt you to confirm your email, then you can sign in.
        </div>
      </div>

    </div>
  </div>

  <!-- Onboarding Modal -->
<div class="modal" id="onboardModal" style="display:none;">
  <div class="sheet">
    <div class="modalHead">
      <div class="modalTitle">Get started</div>
      <button class="x" id="onboardClose" aria-label="Close">‚úï</button>
    </div>

    <div class="card" style="margin:0;">
      <div class="muted">
        Here‚Äôs how CreatorBook works:
        <ul style="margin:10px 0 0 18px; padding:0;">
          <li>Browse creators publicly, no login needed.</li>
          <li>Artists create projects, pick a tier, request a date, and message.</li>
          <li>Creators build packages (Bronze ‚Üí Elite). Admin approves creators for the public feed.</li>
        </ul>
      </div>
    </div>

  </div>
</div>

  <!-- Credits Modal -->
  <div class="modal" id="creditsModal" style="display:none;">
    <div class="sheet">
      <div class="modalTitle">Credits</div>
      <div class="muted" style="margin-bottom:10px;">For now this is demo top-up. Later we wire Stripe to buy credits.</div>
      <div class="row">
        <input id="demoCreditsModal" type="number" min="0" step="1" placeholder="500" />
        <button class="btn" id="btnAddDemoCreditsModal">Add</button>
      </div>
      <div class="muted" style="margin-top:10px;">Balance: <b><span id="walletBalModal">0</span></b> credits</div>
      <div class="row" style="margin-top:12px; justify-content:flex-end;">
        <button class="btn ghost" id="btnCloseCredits">Close</button>
      </div>
    </div>
  </div>

  
  <!-- Booking Modal -->
  <div class="modal" id="bookModal" style="display:none;">
    <div class="sheet">
      <div class="modalTitle">Request Booking</div>
      <div class="muted" id="bookModalSub" style="margin-bottom:10px;">Pick a date and send details.</div>

      <div class="card" style="margin:10px 0;">
        <div class="cardTitle" id="bookPkgTitle" style="margin:0;">Package</div>
        <div class="muted" id="bookPkgMeta"></div>
        <div class="row" style="margin-top:10px;">
          <input id="bookReqDate" type="date" />
          <input id="bookCredits" type="number" min="0" step="1" placeholder="Credits" />
        </div>
        <textarea id="bookNotes" placeholder="Describe your project (location, vibe, references, deadlines)."></textarea>
      </div>

      <div class="row" style="justify-content:flex-end; gap:10px;">
        <button class="btn ghost" id="btnCloseBook" type="button">Cancel</button>
        <button class="btn" id="btnSendBook" type="button">Send request</button>
      </div>
    </div>
  </div>


  <div id="toast" class="toast"></div>

  <!-- Post Completed Project Modal -->
  <div class="modal" id="postProjectModal" style="display:none;">
    <div class="sheet">
      <div class="row" style="justify-content:space-between; align-items:center;">
        <div class="modalTitle">Post a Completed Project</div>
        <button class="btn ghost" id="btnClosePostProject" type="button">Close</button>
      </div>
      <div class="muted" style="margin-top:6px;">One post per project. Add a cover image or video link (YouTube/Vimeo) to embed.</div>

      <div style="margin-top:12px;">
        <label class="lbl">Title</label>
        <input id="postProjTitle" placeholder="e.g., Downtown Music Video (Final Cut)" />
      </div>

      <div style="margin-top:10px;">
        <label class="lbl">Description</label>
        <textarea id="postProjDesc" placeholder="What did you make? Credits? Location? Vibe?"></textarea>
      </div>

      <div style="margin-top:10px;">
        <label class="lbl">Media URL (image or video link)</label>
        <input id="postProjMedia" placeholder="https://youtube.com/... or https://...jpg" />
      </div>

      <div id="postProjPreview" style="margin-top:10px;"></div>

      <div class="row" style="justify-content:flex-end; margin-top:14px;">
        <button class="btn" id="btnSubmitPostProject" type="button">Post</button>
      </div>
    </div>
  </div>


  <!-- Followers / Following Modal -->
  <div class="modal" id="followModal" style="display:none;">
    <div class="sheet">
      <div class="row" style="justify-content:space-between; align-items:center;">
        <div class="modalTitle" id="followModalTitle">Followers</div>
        <button class="btn ghost" id="btnCloseFollowModal" type="button">Close</button>
      </div>
      <div id="followList" style="margin-top:10px;"></div>
      <div class="muted" id="followEmpty" style="display:none; margin-top:10px;">No one here yet.</div>
    </div>
  </div>


  <!-- User Profile Modal (from community feed) -->
  <div class="modal" id="userProfileModal" style="display:none;">
    <div class="sheet">
      <div class="row" style="justify-content:space-between; align-items:center;">
        <div class="modalTitle">Profile</div>
        <button class="btn ghost" id="btnCloseUserProfile" type="button">Close</button>
      </div>

      <div id="userProfileHeader" style="margin-top:10px;"></div>

      <div class="row" style="gap:10px; margin-top:10px; flex-wrap:wrap;">
        <button class="btn" id="btnFollowToggle" type="button">Follow</button>
        <button class="btn ghost" id="btnViewFollowers" type="button">Followers</button>
        <button class="btn ghost" id="btnViewFollowing" type="button">Following</button>
      </div>

      <div class="card" style="margin-top:12px;">
        <div class="cardTitle" style="margin:0;">Package</div>
        <div id="userProfilePackage" class="muted" style="margin-top:8px;">Loading‚Ä¶</div>
      </div>
    </div>
  </div>


<input id="topAvatarFile" type="file" accept="image/*" style="display:none;" />
</body>
</html>
